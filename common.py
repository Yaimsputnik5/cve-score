import joblib
import json
import logging

LOGGER = logging.getLogger('cve-score')


def load_json(filename):
    '''Reads a JSON object from a file.'''
    with open(filename) as fh:
        LOGGER.info('reading %s', filename)
        return json.load(fh)


def dump_json(filename, data):
    '''Writes a JSON-serializable object to a file.'''
    with open(filename, 'w') as fh:
        LOGGER.info('writing %s', filename)
        json.dump(data, fh)


def deserialize(filename):
    '''Loads a pickled object.'''
    LOGGER.info('loading %s', filename)
    return joblib.load(filename)


def serialize(filename, object_):
    '''Writes an object to a pickle file.'''
    LOGGER.info('writing %s', filename)
    joblib.dump(object_, filename)
