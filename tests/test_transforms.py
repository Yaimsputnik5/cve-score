import unittest
from transforms import flatten

class TestEncoder(unittest.TestCase):

    def test_flatten_correctness(self):

        input_expected_pairs = [
            (
                {'A': {'a': '1', 'b': 1}},
                ['A.a:1', 'A.b:1']
            ),
            (
                {'A': ['a', 'b']},
                ['A:a', 'A:b']
            ),
            (
                [{'A': 'a'}, {'A': 'b'}],
                ['A:a', 'A:b']
            ),
            (
                ['idem', 'potent'],
                ['idem', 'potent']
            ),
            (
                'singleton',
                ['singleton']
            )
        ]

        for input_, expected in input_expected_pairs:
            actual = flatten(input_)
            self.assertEqual(sorted(expected), sorted(actual))
