library(ggplot2)

BINS <- 25
COLORS <- c("#a6cee3", "#e31a1c")

# Loads and cleans data.
#
# The `filename` argument must be a CSV file with column names
# "p_hat", "y_true" for the predicted probabilties and ground truth labels.
#
get.data <- function(filename) {
    data <- read.csv(filename)
    data$y_true <- as.factor(data$y_true)
    data
}

# Returns a ggplot object. Input `data` frame must include column names
# "p_hat", "y_true" for the predicted probabilties and ground truth labels.
#
get.plot <- function(data) {
    ggplot(data, aes(p_hat, fill=y_true)) +
        geom_histogram(bins=BINS, position="stack", colour="grey") +
        scale_fill_manual(values=COLORS, name="Ground truth") +
        labs(x="Predicted probability", title="", y="")
}
